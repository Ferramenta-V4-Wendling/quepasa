{"version":"6","id":"cm606q7t700015dcugsea1ldb","name":"My typebot","events":[{"id":"y5fcznb5biphkih8w3nl1oeq","outgoingEdgeId":"iasywlnl3g0j0amko9c0sxjs","graphCoordinates":{"x":-400.09,"y":-484.22},"type":"start"}],"groups":[{"id":"udejxkgri8ykkmy93i8oqngg","title":"Groq AI","graphCoordinates":{"x":656.88,"y":-284.1},"blocks":[{"id":"hbue4vnm6r4rqtap0st51ln1","type":"groq","options":{"credentialsId":"cm6h1jrv50009jyn65yj6d49o","action":"Create chat completion","model":"llama-3.3-70b-versatile","messages":[{"role":"system","content":"You are an assistant for generic questions and this standard dialogue intends to continue and there will be many interactions."},{"role":"system","content":"Only If the user intends to terminate the dialogue, after your standard message append the text code: \"--resolve\", this will indicate that the conversation is coming to an end and that there will be no further responses, so you should not do any question and you answer will be an afirmation."},{"role":"system","content":"Only If the user wiches to talk with a human or if you cannot give him a desired answer after 2 attemps, after your standard message append the text code: \"--open\", this will indicate that your assistance is no longer required and the chat will be transfered, so your answer should be something indicating that event."},{"role":"system","content":"use brazilian portuguese as default language"},{"role":"Dialogue","dialogueVariableId":"vx0xkyf54ioai5day8sma9osx"},{"role":"user","content":"{{question}}"}],"tools":[{"type":"function","name":"getDocumentation","code":""}],"responseMapping":[{"item":"Message content","variableId":"vc3gk0hb6fcgsu92zz8vh8q27"}]}},{"id":"unj1uub62f1avr0n9fyhjoed","type":"Code","options":{"name":"Append Answer To History","content":"const _dialog = JSON.parse({{dialog}});\nconst action = _dialog.actions.at(-1);\naction.assistant = {{answer}};\nsetVariable('dialog', JSON.stringify(_dialog));","isExecutedOnClient":false}},{"id":"c7hu3daq7m8so6zy1g04u1fp","type":"Set variable","options":{"variableId":"vtjtb9goxacm56wtv885282yi","type":"Empty"}},{"id":"twbv28pevynp2sbriwccl5gc","type":"Condition","items":[{"id":"hacgi15846m6robvdysnzrpt","outgoingEdgeId":"uetytz3k6bzyll30cy30fytx","content":{"comparisons":[{"id":"nu4ec3e0y5w7kwao7ubcrely","variableId":"vc3gk0hb6fcgsu92zz8vh8q27","comparisonOperator":"Ends with","value":"--open"}]}},{"id":"zg67987dn3s21of217yzk79q","outgoingEdgeId":"i02b9wmsxh4xju6r3ry1dukl","content":{"comparisons":[{"id":"nu4ec3e0y5w7kwao7ubcrely","variableId":"vc3gk0hb6fcgsu92zz8vh8q27","comparisonOperator":"Ends with","value":"--resolve"}]}}]},{"id":"c18x30i9x3nce6heektl17wc","type":"text","content":{"richText":[{"type":"p","children":[{"text":"{{answer}}"}]}]}},{"id":"duon532swf55mared9go6588","type":"Jump","options":{"groupId":"eck2kopqv1huy1quhdnylhai","blockId":"ko2jc72s5jyirob9kacis1oz"}}]},{"id":"eck2kopqv1huy1quhdnylhai","title":"Question ","graphCoordinates":{"x":274.67,"y":-486.34},"blocks":[{"id":"ko2jc72s5jyirob9kacis1oz","type":"text input","options":{"labels":{"placeholder":"Fa√ßa uma pergunta"},"variableId":"vtjtb9goxacm56wtv885282yi","isLong":false}},{"id":"uz1g6sk22t3958jw93vyamqu","outgoingEdgeId":"bfo7tn2pijwe0k2svxqsnk3y","type":"Code","options":{"name":"Append Question To History","content":"const _dialog = JSON.parse({{dialog}} ?? '{}');\n_dialog.actions = _dialog.actions ?? [];\n\nconst action = {};\naction.user = {{question}};\n_dialog.actions.push(action);\nsetVariable('dialog', JSON.stringify(_dialog));","isExecutedOnClient":false}}]},{"id":"apvlscqghvbkj2qhnzqzi30j","title":"Reseting Cached Dialog","graphCoordinates":{"x":-109.54,"y":-552.3},"blocks":[{"id":"hbyn8khiiqowvrp2r7sabsc5","outgoingEdgeId":"igwhanl7f71k3pysq91ctrpz","type":"Set variable","options":{"variableId":"vx0xkyf54ioai5day8sma9osx","type":"Empty"}}]},{"id":"dyo0xblxgcbqxzsn3005c42t","title":"Resolve","graphCoordinates":{"x":1095.76,"y":110.84},"blocks":[{"id":"sn9waoz78ln76c10lqseo35z","type":"Set variable","options":{"variableId":"vc3gk0hb6fcgsu92zz8vh8q27","expressionToEvaluate":"const str = {{answer}};\nreturn str.slice(0, -9);","isCode":true}},{"id":"kguhnp2jfcqahyzyts9yge54","type":"text","content":{"richText":[{"type":"p","children":[{"text":"{{answer}}"}]}]}},{"id":"wt63zd3tr3voumrpspbs58q3","type":"text","content":{"richText":[{"type":"p","children":[{"text":"/resolve"}]}]}}]},{"id":"ln9t4pxsx8rjrseec6ds40ax","title":"Open","graphCoordinates":{"x":1095.63,"y":-215.58},"blocks":[{"id":"r201wfuswvzjei8i12a683vk","type":"Set variable","options":{"variableId":"vc3gk0hb6fcgsu92zz8vh8q27","expressionToEvaluate":"const str = {{answer}};\nreturn str.slice(0, -6);","isCode":true}},{"id":"xho2chjujkbsb7ymw709atg9","type":"text","content":{"richText":[{"type":"p","children":[{"text":"{{answer}}"}]}]}},{"id":"xbfg7vyvwez4084gj7b8u503","type":"text","content":{"richText":[{"type":"p","children":[{"text":"/open"}]}]}}]}],"edges":[{"id":"iasywlnl3g0j0amko9c0sxjs","from":{"eventId":"y5fcznb5biphkih8w3nl1oeq"},"to":{"groupId":"apvlscqghvbkj2qhnzqzi30j","blockId":"hbyn8khiiqowvrp2r7sabsc5"}},{"id":"bfo7tn2pijwe0k2svxqsnk3y","from":{"blockId":"uz1g6sk22t3958jw93vyamqu"},"to":{"groupId":"udejxkgri8ykkmy93i8oqngg"}},{"id":"igwhanl7f71k3pysq91ctrpz","from":{"blockId":"hbyn8khiiqowvrp2r7sabsc5"},"to":{"groupId":"eck2kopqv1huy1quhdnylhai"}},{"id":"i02b9wmsxh4xju6r3ry1dukl","from":{"blockId":"twbv28pevynp2sbriwccl5gc","itemId":"zg67987dn3s21of217yzk79q"},"to":{"groupId":"dyo0xblxgcbqxzsn3005c42t"}},{"id":"uetytz3k6bzyll30cy30fytx","from":{"blockId":"twbv28pevynp2sbriwccl5gc","itemId":"hacgi15846m6robvdysnzrpt"},"to":{"groupId":"ln9t4pxsx8rjrseec6ds40ax"}}],"variables":[{"id":"vx0xkyf54ioai5day8sma9osx","name":"dialog","isSessionVariable":false},{"id":"vtjtb9goxacm56wtv885282yi","name":"question","isSessionVariable":false},{"id":"vc3gk0hb6fcgsu92zz8vh8q27","name":"answer","isSessionVariable":true}],"theme":{},"selectedThemeTemplateId":null,"settings":{"general":{"isInputPrefillEnabled":true,"isHideQueryParamsEnabled":true,"rememberUser":{"isEnabled":true,"storage":"session"}},"publicShare":{"isEnabled":false}},"createdAt":"2025-01-17T03:13:25.004Z","updatedAt":"2025-01-30T01:37:41.071Z","icon":null,"folderId":null,"publicId":"my-typebot-sea1ldb","customDomain":null,"workspaceId":"cm606p7k40001b6ilrcxtrrkc","resultsTablePreferences":null,"isArchived":false,"isClosed":false,"whatsAppCredentialsId":null,"riskLevel":null}